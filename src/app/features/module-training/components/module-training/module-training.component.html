
<div class="header">
    <a class="back-link" routerLink="/explore"><span class="ico-container"><i class="arrow-left-ico"></i></span><span class="p3">Back To Explore</span></a>
    <a class="btn-side-bar" (click)="showNavigation()"><i class="ico chevrons-left-ico"></i></a>
</div>

<ng-container *ngIf="showCongratualtions$ | async">Congratulations!</ng-container>

<ng-container *ngIf="loaded$ | async">
    <div class="navigation backdropBackground" *ngIf="!navigationHidden">
        <a class="btn-side-bar close-ctrl" (click)="closeNavigation()"><i class="ico close-ico"></i></a>
        <div class="module-tasks">
            <div class="scroll">
                <module-navigation
                    [moduleId]="(module$ | async)?.id!"
                    [tasks]="(tasks$ | async)!"
                    [selectedId]="selectedTaskId()"
                    [showStatusName]="false"
                ></module-navigation>
            </div>
        </div>
    
        <!-- <a class="toggle out" (click)="toggleNavigation()"><i class="ico chevrons-left-ico"></i></a>
        <a class="toggle in" (click)="toggleNavigation()"><i class="ico chevrons-right-ico"></i></a> -->
    </div>
    
    <div class="current-task">
        <router-outlet></router-outlet>
        <ng-container *ngIf="(userTaskLoading$ | async) !== true">
            <ng-container *ngIf="userTaskLoaded$ | async">
                <task-training
                    [userTask]="userTask$ | async"
                    [userShaderProgram]="(userShaderProgram$ | async)!"
                    [submissions]="(userTaskSubmissions$ | async)!"
                    [canEdit]="(canEditTask$ | async) == true"
                    (onNext)="nextTask()"
                >
                </task-training>
            </ng-container>
        </ng-container>
    
        <!-- <div *ngIf="(showCongratualtions$ | async) === true" class="ending">
            <h2>Congratulations!</h2>
            <h3>You have completed all available tasks</h3>
            <mat-icon>thumb_up</mat-icon>
        </div> -->
    </div>
</ng-container>
