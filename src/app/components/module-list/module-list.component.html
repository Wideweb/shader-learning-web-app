<div class="container">

    <div class="modules" *ngIf="loaded$ | async">
        <mat-card *hasPermission="['module_create']" class="card-add-module" (click)="createNew()">
            <mat-card-content>
                <mat-icon class="icon">add_circle</mat-icon>
            </mat-card-content>
        </mat-card>

        <mat-card *ngFor="let module of modules">
            <mat-card-header>
                <mat-card-subtitle>{{ module.name }}</mat-card-subtitle>
            </mat-card-header>
            <mat-card-content>
                <p class="description">{{ module.description }}</p>
            </mat-card-content>
            <mat-card-footer>
                <div class="tasks-info">
                    <div class="number">{{ module.tasks }}</div>
                    <div class="title">Tasks</div>
                </div>
                <!-- <div class="tasks-info">
                    <div class="number">&nbsp;</div>
                    <div class="title">{{0}}%</div>
                </div> -->
                <div class="action" *ngIf="!module.locked">
                    <a routerLink="/module/{{ module.id }}/view"><mat-icon>arrow_forward</mat-icon></a>
                </div>

                <div class="action" *ngIf="module.locked">
                    <mat-icon class="lock-icon">lock</mat-icon>
                </div>
            </mat-card-footer>
        </mat-card>
    </div>
</div>